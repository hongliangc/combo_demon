# Session Initialization - Combo Demon

**自动加载**: 此技能在每次新会话启动时自动执行

---

## 📋 项目上下文加载

你正在协助开发 **Combo Demon**，一个使用 Godot 4.4.1 开发的动作游戏项目。

### 🎮 项目基本信息
- **引擎**: Godot 4.4.1 (Mobile 渲染)
- **语言**: GDScript
- **类型**: 2D 动作游戏
- **主要系统**: 角色、敌人AI、战斗、技能

### 📂 核心目录结构
```
combo_demon/
├── Scenes/          # 游戏场景
│   ├── charaters/   # 角色系统 (主角 Hahashin)
│   └── enemies/     # 敌人系统 (AI 状态机)
├── Weapons/         # 武器系统 (近战/远程)
├── Util/            # 工具类
│   ├── AutoLoad/    # 单例管理器
│   ├── Components/  # 组件系统
│   └── Classes/     # 数据类
├── .claude/         # 工作流配置
│   ├── context/     # 上下文文档
│   └── skills/      # 自动化技能
└── project.godot    # Godot 项目文件
```

---

## 🔍 必读文档

### 1. 开发日志
请先阅读 `.claude/context/dev_log.md` 以了解：
- ✅ 已完成的功能
- 🎯 当前开发任务
- 🐛 已知问题和解决方案
- 💡 重要决策记录
- 📝 最新开发笔记

### 2. 编码规范
遵循 `.claude/context/coding_standards.md` 中的规范：
- GDScript 命名约定（snake_case, PascalCase）
- 强制类型提示
- 组件化设计模式
- 性能优化规范
- 代码审查检查清单

---

## ⚙️ 工作流规则

### 📝 强制记录规则

**在以下情况下，必须更新开发日志：**

1. **发现重要问题** → 记录到 `dev_log.md` 的"已知问题"部分
2. **做出架构决策** → 记录到"重要决策记录"部分
3. **完成重要功能** → 更新"已完成功能"清单
4. **会话结束时** → 更新"开发笔记"和"下一步计划"

**日志更新模板：**
```markdown
### [日期]
**主题**: [本次会话的主要工作]
- 完成的功能: [列表]
- 遇到的问题: [问题描述]
- 解决方案: [解决方法]
- 下一步: [接下来要做的事]
```

### 🔍 问题追踪流程

当遇到问题时，按以下流程处理：

1. **识别问题** → 描述问题和影响范围
2. **优先级评估** → P0(紧急) / P1(重要) / P2(改进)
3. **记录到日志** → 添加到 dev_log.md
4. **尝试解决** → 实施解决方案
5. **验证结果** → 确认问题已解决
6. **更新日志** → 记录解决方案

### ✅ 代码提交前检查

**每次修改代码后，必须检查：**

- [ ] 所有函数都有类型提示
- [ ] 遵循命名约定（snake_case/PascalCase）
- [ ] 没有在 _process() 中创建临时对象
- [ ] 关键逻辑有注释
- [ ] 移除了 debug print 语句
- [ ] 更新了开发日志

---

## 🎯 当前任务获取

执行以下步骤：

1. **读取开发日志** → 检查"当前任务"部分
2. **询问用户** → 确认本次会话的目标
3. **制定计划** → 使用 TodoWrite 创建任务清单
4. **开始工作** → 按计划逐步实现

---

## 💬 沟通风格

- ✅ 简洁专业，技术准确
- ✅ 主动提出优化建议
- ✅ 发现问题立即指出
- ❌ 不使用表情符号（除非用户要求）
- ❌ 不过度赞美或情感化

---

## 🔧 可用工具

### Godot MCP 集成
- `mcp__godot__launch_editor` - 启动 Godot 编辑器
- `mcp__godot__run_project` - 运行游戏
- `mcp__godot__get_debug_output` - 获取调试输出
- `mcp__godot__create_scene` - 创建场景
- `mcp__godot__add_node` - 添加节点

### Claude Code 工具
- `TodoWrite` - 任务管理
- `Read/Write/Edit` - 文件操作
- `Grep/Glob` - 代码搜索
- `Bash` - 命令执行

---

## 🚀 会话启动检查清单

- [ ] 已读取开发日志 (dev_log.md)
- [ ] 了解编码规范 (coding_standards.md)
- [ ] 确认当前任务
- [ ] 检查 Git 分支状态
- [ ] 准备好记录本次会话

---

**准备完成！开始高效开发。**
