# Session End - 会话总结

**用途**: 在会话结束时调用，自动总结进度并更新文档

---

## 📝 会话总结流程

### 1. 总结本次会话

请按以下格式总结：

```markdown
### [日期] - 会话总结
**工作时长**: [估计时长]
**主要任务**: [本次会话的核心目标]

#### ✅ 完成的工作
1. [具体完成的功能/修复的问题]
2. [代码文件和改动]
3. [测试结果]

#### 🐛 发现的问题
- **问题 1**: [描述] → [解决方案/状态]
- **问题 2**: [描述] → [解决方案/状态]

#### 💡 技术决策
- [重要的架构或实现决策]
- [选择某种方案的原因]

#### 📊 代码统计
- 新增文件: [数量和列表]
- 修改文件: [数量和列表]
- 新增代码行: [约数]
- 删除代码行: [约数]

#### 📚 学到的经验
- [Godot/GDScript 相关经验]
- [项目特定的知识]

#### ⏭️ 下一步计划
1. [优先级 P0/P1 的任务]
2. [后续开发建议]
3. [需要测试的功能]
```

---

## 🔄 更新开发日志

**必须执行以下操作：**

### 1. 更新 `dev_log.md`

添加本次会话的记录到"开发笔记"部分：

```markdown
### [日期]
**主题**: [会话主题]
- 完成的功能: [列表]
- 遇到的问题: [列表]
- 解决方案: [列表]
- 下一步: [计划]
```

### 2. 更新任务状态

- 将已完成的任务移到"已完成功能"✅
- 更新"当前任务"🎯
- 添加新发现的问题到"已知问题"🐛

### 3. 记录重要决策

如果有架构或技术决策，添加到"重要决策记录"：

```markdown
### 决策 #N: [决策标题]
**日期**: [日期]
**原因**: [为什么做这个决策]
**影响**: [对项目的影响]
**替代方案**: [考虑过但未采用的方案]
```

---

## 📊 Git 提交建议

如果本次会话有代码改动，建议提交：

```bash
# 检查改动
git status
git diff

# 暂存文件
git add [修改的文件]

# 提交（使用清晰的提交信息）
git commit -m "[类型]: [简短描述]

[详细说明本次改动]

- 完成功能: [列表]
- 修复问题: [列表]
- 影响范围: [范围]"

# 推送到分支
git push -u origin [当前分支]
```

**提交信息类型：**
- `feat`: 新功能
- `fix`: 修复bug
- `refactor`: 重构
- `docs`: 文档更新
- `perf`: 性能优化
- `test`: 测试相关

---

## ✅ 会话结束检查清单

完成以下检查后才能结束会话：

- [ ] 已总结本次会话的工作内容
- [ ] 已更新 `dev_log.md` 的开发笔记
- [ ] 已更新任务状态（完成/进行中/待办）
- [ ] 已记录所有重要问题和解决方案
- [ ] 已记录技术决策（如有）
- [ ] 已更新下一步计划
- [ ] 代码改动已提交（如有）
- [ ] 已移除临时/调试代码
- [ ] 已检查代码符合编码规范

---

## 🎯 给下次会话的建议

基于本次会话，给出下次会话的建议：

```markdown
## 下次会话建议

### 📌 优先任务
1. [最重要的任务]
2. [次要任务]

### ⚠️ 需要注意
- [潜在问题]
- [技术难点]

### 📖 参考资料
- [相关文档链接]
- [Godot API 参考]
```

---

## 🔗 更新文档链接

确保以下文档是最新的：

- `dev_log.md` - 开发日志
- `README.md` - 项目说明（如需要）
- `coding_standards.md` - 编码规范（如有新规则）

---

**会话总结完成！感谢你的工作。**

**下次会话时，SessionStart 技能会自动加载这些信息。**
