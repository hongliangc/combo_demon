# æ–‡æ¡£ç»„ç»‡ä¸é‡æ„ Skill

> **è§¦å‘è¯**: æ–‡æ¡£é‡ç»„, æ–‡æ¡£æ•´ç†, æ¶æ„æ–‡æ¡£, æ¨¡å—åŒ–æ–‡æ¡£
> **ç”¨é€”**: æŒ‰åŠŸèƒ½ç‰¹ç‚¹æ‹†åˆ†å’Œæ•´ç†é¡¹ç›®æ–‡æ¡£ï¼Œä¼˜åŒ–Tokenæ¶ˆè€—å’ŒæŸ¥æ‰¾æ•ˆç‡
> **é¡¹ç›®**: Combo Demon Godoté¡¹ç›®

---

## ğŸ“‹ SkillèŒè´£

å½“å¼€å‘æ—¥å¿—æˆ–æ¶æ„æ–‡æ¡£éœ€è¦æ•´ç†æ—¶ï¼Œä½¿ç”¨æ­¤Skillè¿›è¡Œæ¨¡å—åŒ–é‡ç»„ï¼š

1. **åˆ†æç°æœ‰æ–‡æ¡£**ï¼šæ£€æŸ¥é‡å¤å†…å®¹ã€å†—ä½™æè¿°
2. **æŒ‰åŠŸèƒ½æ‹†åˆ†**ï¼šå°†å¤§æ–‡æ¡£æ‹†åˆ†ä¸ºç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—
3. **åˆ›å»ºæ€»è§ˆç´¢å¼•**ï¼šæä¾›å¯¼èˆªå’Œå¿«é€ŸæŸ¥æ‰¾
4. **ä¼˜åŒ–Tokenæ¶ˆè€—**ï¼šæŒ‰éœ€åŠ è½½ï¼Œå‡å°‘æ¯æ¬¡è¯»å–çš„Token

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### ä½•æ—¶ä½¿ç”¨æ­¤Skill

- âœ… æ–°å¢æ¶æ„æ–‡æ¡£ä¸”ä¸ç°æœ‰æ–‡æ¡£æœ‰é‡å 
- âœ… ç°æœ‰æ–‡æ¡£è¿‡é•¿ï¼ˆ>2000 tokensï¼‰
- âœ… å¤šä¸ªæ–‡æ¡£æè¿°åŒä¸€ä¸ªä¸»é¢˜
- âœ… ç”¨æˆ·è¯·æ±‚æ•´ç†æˆ–å»é‡æ–‡æ¡£
- âœ… æ–‡æ¡£ç»“æ„ä¸æ¸…æ™°ï¼ŒæŸ¥æ‰¾å›°éš¾

### ä¸é€‚ç”¨åœºæ™¯

- âŒ ç®€å•çš„æ–‡ä»¶é‡å‘½å
- âŒ åªéœ€è¦ä¿®æ­£æ‹¼å†™é”™è¯¯
- âŒ å•ä¸ªæ–‡æ¡£çš„å†…å®¹æ›´æ–°

---

## ğŸ—ï¸ æ–‡æ¡£é‡ç»„åŸåˆ™

### 1. æŒ‰åŠŸèƒ½ç‰¹ç‚¹åˆ†ç±»

**æ¨èåˆ†ç±»ç»´åº¦**:
```
architecture/ (æ¶æ„æ–‡æ¡£)
â”œâ”€â”€ 00_overview.md               # æ€»è§ˆç´¢å¼•
â”œâ”€â”€ 01_state_machine.md          # çŠ¶æ€æœºæ¶æ„
â”œâ”€â”€ 02_combat_system.md          # æˆ˜æ–—ç³»ç»Ÿ
â”œâ”€â”€ 03_component_system.md       # ç»„ä»¶ç³»ç»Ÿ
â”œâ”€â”€ 04_signal_driven.md          # ä¿¡å·é©±åŠ¨
â”œâ”€â”€ 05_autoload_system.md        # Autoloadç³»ç»Ÿ
â””â”€â”€ 06_skill_system.md           # æŠ€èƒ½ç³»ç»Ÿ
```

**å‘½åè§„èŒƒ**:
- ä½¿ç”¨æ•°å­—å‰ç¼€ (00, 01, 02...) è¡¨ç¤ºæ¨èé˜…è¯»é¡ºåº
- ä½¿ç”¨ä¸‹åˆ’çº¿è¿æ¥å•è¯ (state_machine, not StateMachine)
- æ–‡ä»¶åç®€æ´æ˜ç¡®ï¼Œåæ˜ æ ¸å¿ƒå†…å®¹

### 2. å•ä¸€èŒè´£åŸåˆ™

æ¯ä¸ªæ–‡æ¡£ä¸“æ³¨ä¸€ä¸ªä¸»é¢˜ï¼š
- âœ… `combat_system.md` - åªè®²æˆ˜æ–—ç³»ç»Ÿ
- âœ… `signal_driven.md` - åªè®²ä¿¡å·é€šä¿¡
- âŒ `game_architecture.md` - å¤ªå®½æ³›ï¼ŒåŒ…å«æ‰€æœ‰å†…å®¹

### 3. Tokenä¼˜åŒ–

**æ§åˆ¶æ–‡æ¡£å¤§å°**:
- æ€»è§ˆæ–‡æ¡£: ~600 tokens
- æ ¸å¿ƒæ¶æ„: ~1000-1500 tokens
- ä¸“é¡¹è¯¦è§£: ~800-1200 tokens

**é¿å…é‡å¤**:
- è¯¦ç»†å†…å®¹åªåœ¨ä¸€å¤„è¯´æ˜
- å…¶ä»–åœ°æ–¹ä½¿ç”¨é“¾æ¥å¼•ç”¨
- ç´¢å¼•æ–‡æ¡£ä¸å¤åˆ¶å®Œæ•´å†…å®¹

---

## ğŸ“ æ–‡æ¡£æ¨¡æ¿

### æ¶æ„æ–‡æ¡£æ ‡å‡†ç»“æ„

```markdown
# [ç³»ç»Ÿåç§°]æ¶æ„

> **æ–‡æ¡£ç±»å‹**: æ ¸å¿ƒæ¶æ„ - [ç±»åˆ«]
> **åˆ›å»ºæ—¥æœŸ**: YYYY-MM-DD
> **Godotç‰ˆæœ¬**: 4.x.x
> **æ¶æ„æ¨¡å¼**: [è®¾è®¡æ¨¡å¼]

---

## ğŸ“‹ æ¶æ„æ¦‚è¿°

### è®¾è®¡ç›®æ ‡
- âœ… ç›®æ ‡1
- âœ… ç›®æ ‡2

### æ ¸å¿ƒæ¦‚å¿µ
[ç®€è¦è¯´æ˜æ ¸å¿ƒç†å¿µ]

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### å›¾è¡¨é€‰æ‹©æŒ‡å—

æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹ï¼š

| å›¾è¡¨ç±»å‹ | é€‚ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|---------|---------|------|
| **ASCIIæµç¨‹å›¾** | è°ƒç”¨é“¾è·¯ã€æ‰§è¡Œæµç¨‹ | ç”¨æˆ·è¾“å…¥â†’ç»„ä»¶å¤„ç†â†’è¾“å‡º |
| **UMLç±»å›¾** | ç±»å…³ç³»ã€ç»§æ‰¿ç»“æ„ | ç»„ä»¶ç»§æ‰¿ã€ä¾èµ–å…³ç³» |
| **mermaidçŠ¶æ€å›¾** | çŠ¶æ€è½¬æ¢ | BossçŠ¶æ€æœº |
| **mermaidæ—¶åºå›¾** | ç»„ä»¶äº¤äº’æ—¶åº | ä¿¡å·è§¦å‘é¡ºåº |
| **mermaidæµç¨‹å›¾** | å†³ç­–åˆ†æ”¯ | æ¡ä»¶åˆ¤æ–­æµç¨‹ |

### ASCIIæµç¨‹å›¾ç¤ºä¾‹

```
ç”¨æˆ·è¾“å…¥
   â”‚
   â”œâ”€â†’ åœºæ™¯1: æ™®é€šæ”»å‡»
   â”‚   â””â”€â†’ CombatComponent.handle_attack()
   â”‚       â”œâ”€â†’ animation.play("attack")
   â”‚       â”œâ”€â†’ hitbox.enable()
   â”‚       â””â”€â†’ emit skill_started
   â”‚
   â””â”€â†’ åœºæ™¯2: ç‰¹æ®Šæ”»å‡»
       â””â”€â†’ CombatComponent.handle_special()
           â””â”€â†’ emit skill_started("atk_sp")
               â””â”€â†’ SkillManager._on_skill_started()
                   â”œâ”€â†’ 1. æ£€æµ‹æ•Œäºº
                   â”œâ”€â†’ 2. ç¦ç”¨ç§»åŠ¨
                   â”œâ”€â†’ 3. æ‰§è¡Œæ”»å‡»
                   â”‚   â””â”€â†’ await animation_finished
                   â””â”€â†’ 4. æ¢å¤ç§»åŠ¨ âœ…
```

**ä¼˜ç‚¹**:
- âœ… ç›´è§‚å±•ç¤ºè°ƒç”¨é“¾
- âœ… Tokenæ¶ˆè€—ä½
- âœ… æ˜“äºä¿®æ”¹ç»´æŠ¤
- âœ… åœ¨æ‰€æœ‰ç¯å¢ƒä¸‹éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º

### ä»£ç ç¤ºä¾‹

[ç®€çŸ­çš„å…³é”®ä»£ç ç‰‡æ®µï¼Œé…åˆæµç¨‹å›¾ä½¿ç”¨]

---

## ğŸ’¡ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•
[è‰¯å¥½å®è·µç¤ºä¾‹]

### âŒ å¸¸è§é”™è¯¯
[é”™è¯¯ç¤ºä¾‹å’Œè§£å†³æ–¹æ¡ˆ]

---

## ğŸ“š ç›¸å…³æ–‡æ¡£
- [ç›¸å…³æ–‡æ¡£1](link1.md)
- [ç›¸å…³æ–‡æ¡£2](link2.md)

---

**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
**æœ€åæ›´æ–°**: YYYY-MM-DD
**Tokenä¼°ç®—**: ~XXXX
```

---

## ğŸ”„ é‡ç»„æµç¨‹

### Step 1: åˆ†æç°æœ‰æ–‡æ¡£

```bash
# æ£€æŸ¥æ–‡æ¡£æ•°é‡å’ŒTokenæ¶ˆè€—
ls -la dev_log/*.md
wc -w dev_log/*.md

# æŸ¥æ‰¾é‡å¤å†…å®¹
grep -r "å…³é”®è¯" dev_log/
```

**åˆ†æè¦ç‚¹**:
- å“ªäº›ä¸»é¢˜è¢«å¤šæ¬¡æè¿°ï¼Ÿ
- å“ªäº›æ–‡æ¡£è¿‡é•¿ï¼ˆ>2000 tokensï¼‰ï¼Ÿ
- æ˜¯å¦æœ‰æ˜ç¡®çš„åŠŸèƒ½åˆ†ç±»ï¼Ÿ

### Step 2: è®¾è®¡æ–‡æ¡£ç»“æ„

**åˆ›å»ºç›®å½•è§„åˆ’**:
```
architecture/
â”œâ”€â”€ 00_overview.md          # æ€»è§ˆï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ 01_[module1].md
â”œâ”€â”€ 02_[module2].md
â””â”€â”€ ...
```

**ç¡®å®šæ¨¡å—åˆ’åˆ†**:
- æ¯ä¸ªæ¨¡å—æ˜¯ç‹¬ç«‹çš„åŠŸèƒ½ç‰¹ç‚¹
- æ¨¡å—é—´ç›¸äº’å¼•ç”¨ä½†ä¸é‡å¤
- æœ‰æ¸…æ™°çš„é˜…è¯»é¡ºåº

### Step 3: åˆ›å»ºæ€»è§ˆç´¢å¼•

```markdown
# [é¡¹ç›®åç§°] æ¶æ„æ€»è§ˆ

## ğŸ“‹ æ¶æ„æ–‡æ¡£å¯¼èˆª

| # | æ¨¡å— | æ–‡æ¡£ | Token | ä¼˜å…ˆçº§ |
|---|------|------|-------|--------|
| 0 | æ€»è§ˆ | [overview](00_overview.md) | ~600 | â­â­â­â­â­ |
| 1 | [æ¨¡å—1] | [link](01_module1.md) | ~1000 | â­â­â­â­ |

## ğŸ” å¿«é€Ÿå®šä½æŒ‡å—

### æŒ‰éœ€æ±‚æŸ¥æ‰¾
- æˆ‘æƒ³äº†è§£...X â†’ [æ¨¡å—æ–‡æ¡£](link)
- æˆ‘è¦å®ç°...Y â†’ [æ¨¡å—æ–‡æ¡£](link)

### æŒ‰è§’è‰²æŸ¥æ‰¾
- æ–°äºº â†’ å…ˆçœ‹ A, B, C
- å®ç°åŠŸèƒ½ â†’ ç›´æ¥çœ‹å¯¹åº”æ¨¡å—
```

### Step 4: æ‹†åˆ†å’Œæ•´åˆå†…å®¹

**ä»åŸæœ‰æ–‡æ¡£ä¸­æå–**:
1. è¯†åˆ«æ¯ä¸ªæ¨¡å—çš„æ ¸å¿ƒå†…å®¹
2. å¤åˆ¶åˆ°æ–°æ¨¡å—æ–‡æ¡£
3. åˆ é™¤é‡å¤æè¿°
4. æ·»åŠ ç›¸äº’å¼•ç”¨é“¾æ¥

**ç¤ºä¾‹**:
```markdown
# åŸæ–‡æ¡£ architecture_big.md
## çŠ¶æ€æœº
[500è¡Œå†…å®¹...]

## æˆ˜æ–—ç³»ç»Ÿ
[600è¡Œå†…å®¹...]

## ç»„ä»¶ç³»ç»Ÿ
[400è¡Œå†…å®¹...]

# é‡ç»„å
architecture/
â”œâ”€â”€ 01_state_machine.md      # åªåŒ…å«çŠ¶æ€æœº
â”œâ”€â”€ 02_combat_system.md      # åªåŒ…å«æˆ˜æ–—ç³»ç»Ÿ
â””â”€â”€ 03_component_system.md   # åªåŒ…å«ç»„ä»¶ç³»ç»Ÿ
```

### Step 5: æ›´æ–°ç´¢å¼•æ–‡ä»¶

**æ›´æ–° INDEX.md**:
```markdown
### ğŸ“ æ¶æ„è®¾è®¡

#### æ¨¡å—åŒ–æ¶æ„æ–‡æ¡£ â­

| # | æ¨¡å— | æ–‡æ¡£ | Token |
|---|------|------|-------|
| 0 | æ€»è§ˆ | [overview](architecture/00_overview.md) | ~600 |
| 1 | [æ¨¡å—1] | [doc](architecture/01_module1.md) | ~1000 |
```

**æ›´æ–° TIMELINE.md** (å¦‚æœéœ€è¦):
```markdown
### 2026-01-20

#### ğŸ“ æ¶æ„æ–‡æ¡£é‡ç»„
- åˆ›å»ºæ¨¡å—åŒ–æ¶æ„æ–‡æ¡£ä½“ç³»
- æ‹†åˆ†å¤§æ–‡æ¡£ä¸º6ä¸ªç‹¬ç«‹æ¨¡å—
- ä¼˜åŒ–Tokenæ¶ˆè€—20%
```

### Step 6: éªŒè¯å’Œæ¸…ç†

**éªŒè¯é“¾æ¥**:
```bash
# æ£€æŸ¥æ‰€æœ‰markdowné“¾æ¥æ˜¯å¦æœ‰æ•ˆ
grep -r "\[.*\](.*\.md)" dev_log/
```

**æ¸…ç†æ—§æ–‡æ¡£**:
- å°†è¿‡æ—¶æ–‡æ¡£ç§»è‡³ `archive/`
- æ›´æ–°æ‰€æœ‰å¼•ç”¨é“¾æ¥
- åˆ é™¤å®Œå…¨é‡å¤çš„å†…å®¹

---

## ğŸ“Š æˆåŠŸæ¡ˆä¾‹ï¼š2026-01-20é‡ç»„

### é‡ç»„å‰

```
architecture/
â”œâ”€â”€ architecture_uml_diagrams.md          (~2000 tokens)
â”œâ”€â”€ architecture_review_2026-01-18.md     (~1200 tokens)
â”œâ”€â”€ hitbox_hurtbox_architecture_2026-01-19.md (~2000 tokens)
â””â”€â”€ (å†…å®¹é‡å¤ã€ç»“æ„æ··ä¹±)
```

**é—®é¢˜**:
- HitBoxComponent/Hurtboxå†…å®¹ä¸æˆ˜æ–—ç³»ç»Ÿé‡å 
- Playeræ¶æ„åœ¨å¤šå¤„é‡å¤æè¿°
- ç¼ºå°‘ç»Ÿä¸€çš„å¯¼èˆªç´¢å¼•
- Tokenæ¶ˆè€—é«˜ï¼ˆä¸€æ¬¡åŠ è½½ >2000 tokensï¼‰

### é‡ç»„å

```
architecture/
â”œâ”€â”€ 00_architecture_overview.md       (~600 tokens)  â† æ€»è§ˆ
â”œâ”€â”€ 01_state_machine_architecture.md  (~1000 tokens)
â”œâ”€â”€ 02_combat_system_architecture.md  (~1500 tokens) â† æ•´åˆHitbox
â”œâ”€â”€ 03_component_system_architecture.md (~1000 tokens)
â”œâ”€â”€ 04_signal_driven_architecture.md  (~900 tokens)
â”œâ”€â”€ 05_autoload_system_architecture.md (~800 tokens)
â”œâ”€â”€ 06_skill_system_architecture.md   (~1000 tokens)
â””â”€â”€ (åŸæœ‰æ–‡æ¡£ä¿ç•™ä½œä¸ºè¡¥å……)
```

**æˆæœ**:
- âœ… æ¨¡å—åŒ–ï¼šæŒ‰åŠŸèƒ½ç‰¹ç‚¹æ¸…æ™°åˆ†ç±»
- âœ… Tokenä¼˜åŒ–ï¼šæŒ‰éœ€åŠ è½½ï¼ŒèŠ‚çœ40-60%
- âœ… æ˜“äºå¯¼èˆªï¼šä»æ€»è§ˆå¿«é€Ÿå®šä½
- âœ… æ¶ˆé™¤é‡å¤ï¼šå•ä¸€çœŸå®æ¥æº

---

## ğŸ’¡ æœ€ä½³å®è·µ

### âœ… æ¨è

1. **æ€»è§ˆä¼˜å…ˆ**
   - æ°¸è¿œå…ˆåˆ›å»ºæ€»è§ˆç´¢å¼• (00_overview.md)
   - æä¾›å¤šç§æŸ¥æ‰¾è·¯å¾„ï¼ˆæŒ‰éœ€æ±‚/æŒ‰è§’è‰²ï¼‰

2. **ç‹¬ç«‹å®Œæ•´**
   - æ¯ä¸ªæ¨¡å—æ–‡æ¡£å¯ä»¥ç‹¬ç«‹é˜…è¯»
   - åŒ…å«å¿…è¦çš„UMLå›¾å’Œä»£ç ç¤ºä¾‹

3. **Tokenæ„è¯†**
   - æ§åˆ¶æ¯ä¸ªæ–‡æ¡£åœ¨ 600-1500 tokens
   - ä½¿ç”¨é“¾æ¥ä»£æ›¿å¤åˆ¶å†…å®¹

4. **æŒç»­ç»´æŠ¤**
   - æ–°å¢æ–‡æ¡£æ—¶æ›´æ–°æ€»è§ˆ
   - å®šæœŸæ£€æŸ¥æ­»é“¾
   - åŠæ—¶å½’æ¡£è¿‡æ—¶å†…å®¹

### âŒ é¿å…

1. **é¿å…è¿‡åº¦æ‹†åˆ†**
   - âŒ ä¸è¦æ‹†åˆ†åˆ°æ¯ä¸ªå‡½æ•°ä¸€ä¸ªæ–‡æ¡£
   - âœ… ä¿æŒæ¨¡å—çš„å®Œæ•´æ€§

2. **é¿å…å¾ªç¯å¼•ç”¨**
   - âŒ Aé“¾æ¥åˆ°Bï¼ŒBåˆé“¾æ¥å›A
   - âœ… å•å‘å¼•ç”¨ï¼Œå±‚çº§æ¸…æ™°

3. **é¿å…å­¤ç«‹æ–‡æ¡£**
   - âŒ åˆ›å»ºæ²¡æœ‰è¢«å¼•ç”¨çš„æ–‡æ¡£
   - âœ… ç¡®ä¿æ¯ä¸ªæ–‡æ¡£éƒ½åœ¨ç´¢å¼•ä¸­

---

## ğŸ”§ å·¥å…·å’Œå‘½ä»¤

### æ–‡æ¡£ç»Ÿè®¡

```bash
# Tokenä¼°ç®—ï¼ˆ1 token â‰ˆ 0.75 wordï¼‰
wc -w file.md | awk '{print $1 * 0.75}'

# æŸ¥æ‰¾é‡å¤å†…å®¹
grep -r "ç‰¹å®šæ®µè½" dev_log/

# æ£€æŸ¥æ–‡æ¡£å¤§å°
find dev_log -name "*.md" -exec wc -w {} + | sort -rn
```

### é“¾æ¥æ£€æŸ¥

```bash
# æŸ¥æ‰¾æ‰€æœ‰markdowné“¾æ¥
grep -Ero '\[.*\]\([^)]+\)' dev_log/*.md

# éªŒè¯æ–‡ä»¶å­˜åœ¨
for link in $(grep -Ero '\([^)]+\.md\)' dev_log/*.md | tr -d '()'); do
    [ -f "dev_log/$link" ] || echo "Dead link: $link"
done
```

---

## ğŸ“š å‚è€ƒèµ„æº

### é¡¹ç›®å†…æ–‡æ¡£

- [å¼€å‘æ—¥å¿—æ€»è§ˆ](../../dev_log/README.md)
- [INDEXç´¢å¼•](../../dev_log/INDEX.md)
- [TIMELINEæ—¶é—´çº¿](../../dev_log/TIMELINE.md)

### å¤–éƒ¨å‚è€ƒ

- Godotå®˜æ–¹æ–‡æ¡£ç»“æ„
- è½¯ä»¶æ¶æ„æ–‡æ¡£æœ€ä½³å®è·µ
- Markdownç¼–å†™è§„èŒƒ

---

**åˆ›å»ºæ—¥æœŸ**: 2026-01-20
**ç»´æŠ¤è€…**: Claude + é¡¹ç›®å›¢é˜Ÿ
**ç‰ˆæœ¬**: v1.0
